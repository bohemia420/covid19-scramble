(this["webpackJsonpbar-chart-race"]=this["webpackJsonpbar-chart-race"]||[]).push([[0],{171:function(e,t){},173:function(e,t){},184:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),i=(n(94),n(12)),u=n(19),l=n(16),s=n(15),f=n(11),m=n(17),d=n(18),p=n(8),b=n(41),h=n.n(b),v=n(49),g=n(32),O=n(81),y=n(80),j=n(14),w=n(31),S=n(196),E=n(190),x=n(193),k=n(194),P=n(191),I=n(28),B=n(195),D=function(e){var t=e.domainMax,n=e.xMax,a=n>500?5:Math.floor(n/100),o=Object(E.a)({domain:[0,t],range:[0,n]});return r.a.createElement(B.a,{top:0,left:0,scale:o,tickLabelProps:function(){return{textAnchor:"middle",dy:"-0.25em",fontSize:12}},numTicks:a})},M=Object(I.a)(D),C=Object(a.forwardRef)((function(e,t){var n=e.domainMax,o=e.xMax,c=Object(a.useRef)(n).current,i=Object(I.b)({from:{domainMax:c},to:{domainMax:n},ref:t});return r.a.createElement(M,Object.assign({xMax:o},i))})),R=n(192),K=n(197),F=n(76),T=n.n(F),U={China:"#f50a0a",Australia:"#755aed",Belgium:"Orange",Brazil:"#81a832",France:"Blue",Germany:"Black",India:"#f7a54d",Iran:"Green",Italy:"#d9bebd",Japan:"#403b39",Russia:"Green",Singapore:"#4f2922","South Korea":"Brown",Spain:"#913514","United Kingdom":"#143891","United States":"#263396"},z=function(e){e.color;var t,n=e.x,a=e.y,o=e.width,c=e.height,i=e.name,u=e.value,l=e.deaths;"".concat(i," - cases: ").concat(u," deaths: ").concat(Math.round(l));return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{width:"100",height:"50",src:T.a}),r.a.createElement(R.a,{x:n,y:a,width:o,height:c,fill:U[i],style:{opacity:.8}}),r.a.createElement(K.a,(t={scaleToFit:"true"},Object(p.a)(t,"scaleToFit","true"),Object(p.a)(t,"x",n+10),Object(p.a)(t,"y",a+c/2),t),"".concat(i.toUpperCase()," ").concat(u," cases - ").concat(Math.round(l)," deaths")))},G=Object(I.a)(z),L=Object(a.forwardRef)((function(e,t){var n=e.frameData,a=e.xScale,o=e.yScale,c=e.colorScale,i=(n=n.filter((function(e){return void 0!==e.name}))).map((function(e){return e.name}));return Object(I.c)(n.filter((function(e){return i.includes(e.name)})).map((function(e,t){var n=e.name,r=e.value,c=e.deaths;return{y:o(t),width:a(r),value:r,name:n,deaths:c}})),(function(e){return e.name}),{initial:function(e){return e},from:{y:o.range()[1]+50,width:0,value:0},leave:{y:o.range()[1]+50,width:0,value:0},enter:function(e){return e},update:function(e){return e},unique:!0,ref:t}).filter((function(e){return i.includes(e.key)})).map((function(e){var t=e.item,n=e.props,i=n.y,u=n.value,l=n.deaths,s=n.width,f=t.name;return r.a.createElement(G,{x:a(0),y:i,width:s,height:o.bandwidth(),color:c(f),value:u.interpolate((function(e){return e.toFixed()})),deaths:l,name:f,key:f})}))}));function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=r.a.forwardRef((function(e,t){var n=e.numOfBars,o=e.width,c=e.height,i=e.margin,u=e.keyframes,l=e.onStart,s=e.onStop,f=Object(a.useState)({frameIdx:0,animationKey:0,playing:!1}),m=Object(d.a)(f,2),p=m[0],b=p.frameIdx,h=p.animationKey,v=p.playing,g=m[1],O=Object(a.useRef)();Object(a.useEffect)((function(){O.current||(O.current=setTimeout((function(){g((function(e){var t=e.frameIdx,n=e.playing,a=Object(w.a)(e,["frameIdx","playing"]),r=t===u.length-1;return J({},a,{frameIdx:n?r?t:t+1:t,playing:!(!n||r)})})),O.current=null}),250))}));var y=Object(a.useRef)(),I=Object(a.useRef)();Object(a.useImperativeHandle)(t,(function(){return{replay:function(){clearTimeout(O.current),O.current=null,g((function(e){var t=e.animationKey;return J({},Object(w.a)(e,["animationKey"]),{frameIdx:0,animationKey:t+1,playing:!0})}))},start:function(){g((function(e){return J({},e,{playing:!0})}))},stop:function(){g((function(e){return J({},e,{playing:!1})})),y.current.stop(),I.current.stop()},playing:v}}));var B=Object(a.useRef)(v);Object(a.useEffect)((function(){B.current!==v&&(v?l():s()),B.current=v}),[v]),Object(a.useLayoutEffect)((function(){y.current&&v&&(y.current.start(),I.current.start())}));var D=u[b],M=D.date,R=D.data,K=R.map((function(e){return e.value})),F=o-i.left-i.right,T=c-i.top-i.bottom,U=Math.max.apply(Math,Object(j.a)(K)),z=Object(E.a)({domain:[0,U],range:[0,F]}),G=Object(a.useMemo)((function(){return Object(x.a)({domain:Array(n).fill(0).map((function(e,t){return t})),range:[0,T]})}),[n,T]),A=Object(a.useMemo)((function(){return 0===u.length?[]:u[0].data.map((function(e){return e.name}))}),[u]),V=Object(a.useMemo)((function(){return Object(k.a)(S.a).domain(A).range(S.a)}),[A]),_=M.toLocaleDateString("en-DB",{day:"numeric",month:"short",year:"numeric"});return r.a.createElement("svg",{width:o,height:c},r.a.createElement(P.a,{top:i.top,left:i.left,key:h},r.a.createElement(L,{frameData:R.slice(0,n),xScale:z,yScale:G,colorScale:V,ref:y}),r.a.createElement("text",{textAnchor:"end",style:{fontSize:"1.25em"},x:F,y:T},_),r.a.createElement("line",{x1:0,y1:0,x2:0,y2:T,stroke:"black"}),r.a.createElement(C,{domainMax:U,xMax:F,ref:I})))}));V.defaultProps={width:600,height:450,margin:{top:0,right:0,bottom:0,left:100}};var _=V,W=n(77),H=n.n(W),N=n(78),q=n.n(N);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e,t,n){var a=function(e){var t=new Map;e.forEach((function(e){var n=e.date,a=e.name;if(t.get(n)){var r=Q({},t.get(n),Object(p.a)({},a,e));t.set(n,r)}else t.set(n,Object(p.a)({},a,e))}));return function(e){var n=e.date,a=e.name;try{return t.get(n)[a]}catch(r){return null}}}(e),r=new Set(e.map((function(e){return e.name}))),o=Object(j.a)(r),c=new Set(e.map((function(e){return e.date}))),i=Object(j.a)(c).sort().map((function(e){return{date:e,data:o.map((function(t){var n=a({date:e,name:t});return Q({},n,{value:n?n.value:0})}))}}));return i.reduce((function(e,n,r){var o=n,c=r!==i.length-1?i[r+1]:null;if(c)for(var u=new Date(o.date).getTime(),l=new Date(c.date).getTime()-u,s=function(r){var o=new Date(u+l*r/t),i=n.data.map((function(e){var n=e.name,o=e.value,i=Object(w.a)(e,["name","value"]),u=o,l=a({date:c.date,name:n});return Q({name:n,value:u+((l?l.value:0)-u)*r/t},i)}));e.push({date:o,data:i})},f=0;f<t;f++)s(f);else e.push(Q({},n,{date:new Date(n.date)}));return e}),[]).map((function(e){return{date:e.date,data:e.data.sort((function(e,t){return t.value-e.value}))}}))};var Y=function(e,t,n){var a=r.a.useState([]),o=Object(d.a)(a,2),c=o[0],i=o[1];return r.a.useEffect((function(){H.a.get(e).then((function(e){var a=e.data,r=q()(a).slice(1).map((function(e){var t=Object(d.a)(e,4),n=t[0],a=t[1],r=t[2],o=t[3];return{date:n,name:a,deaths:Number(o),value:Number(r)}})).filter((function(e){return n.includes(e.name)})),o=X(r,t);i(o)}))}),[e,t,n]),c};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te="https://raw.githubusercontent.com/bohemia420/covid19-scramble/gh-pages/data/corona-journey.csv",ne=12,ae=15,re={top:30,right:10,bottom:30,left:10},oe={control:function(e){return ee({},e,{backgroundColor:"white"})},option:function(e,t){var n=t.data,a=t.isDisabled,r=t.isFocused,o=t.isSelected,c=h()(n.color);return ee({},e,{backgroundColor:a?null:o?n.color:r?c.alpha(.1).css():null,color:a?"#ccc":o?h.a.contrast(c,"white")>2?"white":"black":n.color,cursor:a?"not-allowed":"default",":active":ee({},e[":active"],{backgroundColor:!a&&(o?n.color:c.alpha(.3).css())})})},multiValue:function(e,t){var n=t.data;return ee({},e,{backgroundColor:h()(n.color).alpha(.1).css()})},multiValueLabel:function(e,t){return ee({},e,{color:t.data.color})},multiValueRemove:function(e,t){var n=t.data;return ee({},e,{color:n.color,":hover":{backgroundColor:n.color,color:"white"}})}},ce=Object(y.a)(),ie=[{value:"China",label:"China",color:"Red"},{value:"Australia",label:"Australia",color:"Purple"},{value:"Belgium",label:"Belgium",color:"Orange"},{value:"Brazil",label:"Brazil",color:"#81a832"},{value:"France",label:"France",color:"Blue"},{value:"Germany",label:"Germany",color:"Black"},{value:"India",label:"India",color:"#f7a54d"},{value:"Iran",label:"Iran",color:"Green"},{value:"Italy",label:"Italy",color:"Red"},{value:"Japan",label:"Japan",color:"Black"},{value:"Russia",label:"Russia",color:"Green"},{value:"Singapore",label:"Singapore",color:"Brown"},{value:"South Korea",label:"South Korea",color:"Brown"},{value:"Spain",label:"Spain",color:"Red"},{value:"United Kingdom",label:"United Kingdom",color:"Purple"},{value:"United States",label:"United States",color:"#263396"}];function ue(e){var t=function(){var e=function(){return{width:window.innerWidth,height:window.innerHeight}},t=r.a.useState(e),n=Object(d.a)(t,2),a=n[0],o=n[1];return r.a.useEffect((function(){var t=function(){o(e)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),a}().width-64,n=Y(te,ae,e.countries),o=r.a.useRef(),c=!!o.current&&o.current.playing,i=Object(a.useState)(),u=Object(d.a)(i,2),l=(u[0],u[1]);return r.a.createElement("div",{style:{paddingTop:"1em"}},r.a.createElement(v.a,{style:{marginLeft:"10px"},onClick:function(){o.current.replay()},variant:"success"},"replay")," ",r.a.createElement(v.a,{variant:"secondary",onClick:c?function(){o.current.stop()}:function(){o.current.start()}},c?"stop":"start"),n.length>0&&r.a.createElement(_,{keyframes:n,numOfBars:ne,width:t,height:560,margin:re,onStart:function(){return l(!0)},onStop:function(){return l(!1)},ref:o}))}var le=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={countries:["China","Belgium","Brazil","France","Germany","India","Iran","Italy","Japan","South Korea","United Kingdom","United States"]},n._onChange=n._onChange.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"_onChange",value:function(e){var t=this;this.setState({countries:e.map((function(e){return e.value}))},(function(){return console.log(t.state.countries)}))}},{key:"render",value:function(){this.state.countries;var e=r.a.createElement("span",{style:{display:"inline-block",margin:"10px"}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{style:{marginTop:"10px"}},r.a.createElement(g.a.Item,{href:"#"},"Select"),r.a.createElement(g.a.Item,{href:"#"},"Replay"),r.a.createElement(g.a.Item,{active:!0}," Stop -> Start ")),r.a.createElement(O.a,{style:{marginLeft:"10px"},closeMenuOnSelect:!1,components:ce,defaultValue:[ie[0],ie[2],ie[3],ie[4],ie[5],ie[6],ie[7],ie[8],ie[9],ie[12],ie[14],ie[15]],isMulti:!0,options:ie,styles:oe,onChange:this._onChange}),e,r.a.createElement(ue,{countries:this.state.countries}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,n){e.exports=n.p+"static/media/logo192.51a8486a.png"},89:function(e,t,n){e.exports=n(184)},94:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.a078da11.chunk.js.map